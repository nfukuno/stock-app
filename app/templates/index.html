<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Stock Drawdown Checker</title>
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
        }
        th, td {
            border: 1px solid #aaa;
            padding: 6px;
            text-align: center;
        }
        th {
            background-color: #eee;
        }
        /* è©•ä¾¡ã‚»ãƒ«ã®è‰²åˆ†ã‘ */
        .eval.â— {
            background-color: red;
            color: white;
            font-weight: bold;
        }
        .eval.ã€‡ {
            background-color: pink;
            color: black;
            font-weight: bold;
        }
        .eval.â–¡ {
            background-color: lightgreen;
            color: black;
            font-weight: bold;
        }
        .eval.â–³ {
            background-color: yellow;
            color: black;
            font-weight: bold;
        }
        /* æœ€é«˜å€¤ã‚»ãƒ«ã‚’é’ã«ã™ã‚‹ */
        .blue {
            background-color: lightblue;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h2>Stock Drawdown Checker</h2>
    <p>å®Ÿè¡Œæ—¥æ™‚: {{ exec_time }}</p>

    <div class="legend">
        <p>ğŸ”´ â— â€¦ éå»6ã‚«æœˆã®æœ€é«˜å€¤ã‹ã‚‰30%ä»¥ä¸Šä¸‹è½ã‹ã¤éå»3ã‚«æœˆã®æœ€é«˜å€¤ã‹ã‚‰20%ä»¥ä¸Šä¸‹è½</p>
        <p>ğŸŸ  â—‹ â€¦ éå»6ã‚«æœˆã®æœ€é«˜å€¤ã‹ã‚‰30%ä»¥ä¸Šä¸‹è½</p>
        <p>ğŸŸ¡ â–³ â€¦ éå»3ã‚«æœˆã®æœ€é«˜å€¤ã‹ã‚‰20%ä»¥ä¸Šä¸‹è½</p>
        <p>ğŸŸ¢ â–¡ â€¦ éå»6ã‚«æœˆã®æœ€é«˜å€¤ã‹ã‚‰20%ä»¥ä¸Šä¸‹è½</p>
    </div>

    <table>
        <thead>
            <tr>
                <th>Number</th>
                <th>éŠ˜æŸ„å</th>
                <th>Symbol</th>
                <th>è©•ä¾¡</th>
                <th>å–å¾—æ—¥æ™‚</th>
                <th>æœ€æ–°å€¤</th>
                <th>å‰æ—¥çµ‚å€¤</th>
                <th>å‰æ—¥æ¯”</th>
                <th>å‰3ã‚«æœˆé«˜å€¤æ¯”</th>
                <th>å‰6ã‚«æœˆé«˜å€¤æ¯”</th>
                <th>éå»æœ€é«˜å€¤æ¯”</th>
                <th>å‰3ã‚«æœˆé«˜å€¤æ—¥</th>
                <th>å‰3ã‚«æœˆæœ€é«˜å€¤</th>
                <th>å‰6ã‚«æœˆé«˜å€¤æ—¥</th>
                <th>å‰6ã‚«æœˆæœ€é«˜å€¤</th>
                <th>éå»æœ€é«˜å€¤æ—¥</th>
                <th>éå»æœ€é«˜å€¤</th>
            </tr>
        </thead>
        <tbody>
            {% for row in results %}
            <tr>
                <td>{{ row.number }}</td>
                <td>{{ row.name }}</td>
                <td>{{ row.symbol }}</td>
                <td class="eval {{ row.evaluation }}">{{ row.evaluation }}</td>
                <td>{{ row.latest_date }}</td>
                <td>{{ row.latest_price }}</td>
                <td>{{ row.prev_close }}</td>
                <td>{{ row.change }}</td>
                <td>{{ row.drawdown_3m }}</td>
                <td>{{ row.drawdown_6m }}</td>
                <td>{{ row.drawdown_all }}</td>
                <td>{{ row.max_date_3m }}</td>
                <td class="{{ row.highlight_3m }}">{{ row.max_price_3m }}</td>
                <td>{{ row.max_date_6m }}</td>
                <td class="{{ row.highlight_6m }}">{{ row.max_price_6m }}</td>
                <td>{{ row.max_date_all }}</td>
                <td class="{{ row.highlight_all }}">{{ row.max_price_all }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</body>
</html>